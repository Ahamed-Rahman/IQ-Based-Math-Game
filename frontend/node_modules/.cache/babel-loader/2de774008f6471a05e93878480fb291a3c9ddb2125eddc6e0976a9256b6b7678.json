{"ast":null,"code":"var _jsxFileName = \"A:\\\\IQ-Based Math Game\\\\IQ-Based Math Game\\\\frontend\\\\src\\\\context\\\\MusicProvider.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect, useRef } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport backgroundMusic from \"../assets/music/background.mp3\";\n\n// ✅ Create Context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MusicContext = /*#__PURE__*/createContext();\nconst MusicProvider = ({\n  children\n}) => {\n  _s();\n  const [musicOn, setMusicOn] = useState(localStorage.getItem(\"music\") === \"on\");\n  const audioRef = useRef(new Audio(backgroundMusic));\n  const location = useLocation();\n  useEffect(() => {\n    if (musicOn) {\n      audioRef.current.loop = true;\n      audioRef.current.volume = 0.5;\n      audioRef.current.play().catch(err => console.error(\"Music Play Error:\", err));\n    } else {\n      audioRef.current.pause();\n    }\n  }, [musicOn]);\n\n  // ✅ Stop Music When Leaving All Game Pages\n  useEffect(() => {\n    const gamePages = [\"/dashboard\", \"/game\", \"/leaderboard\"];\n    if (!gamePages.includes(location.pathname)) {\n      audioRef.current.pause();\n    }\n  }, [location.pathname]);\n  return /*#__PURE__*/_jsxDEV(MusicContext.Provider, {\n    value: {\n      musicOn,\n      setMusicOn\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(MusicProvider, \"EZv7TRxVmKSLGmUINl8TJN2bh4c=\", false, function () {\n  return [useLocation];\n});\n_c = MusicProvider;\nexport default MusicProvider;\nvar _c;\n$RefreshReg$(_c, \"MusicProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useRef","useLocation","backgroundMusic","jsxDEV","_jsxDEV","MusicContext","MusicProvider","children","_s","musicOn","setMusicOn","localStorage","getItem","audioRef","Audio","location","current","loop","volume","play","catch","err","console","error","pause","gamePages","includes","pathname","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["A:/IQ-Based Math Game/IQ-Based Math Game/frontend/src/context/MusicProvider.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useRef } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport backgroundMusic from \"../assets/music/background.mp3\";\r\n\r\n// ✅ Create Context\r\nexport const MusicContext = createContext();\r\n\r\nconst MusicProvider = ({ children }) => {\r\n  const [musicOn, setMusicOn] = useState(localStorage.getItem(\"music\") === \"on\");\r\n  const audioRef = useRef(new Audio(backgroundMusic));\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (musicOn) {\r\n      audioRef.current.loop = true;\r\n      audioRef.current.volume = 0.5;\r\n      audioRef.current.play().catch((err) => console.error(\"Music Play Error:\", err));\r\n    } else {\r\n      audioRef.current.pause();\r\n    }\r\n  }, [musicOn]);\r\n\r\n  // ✅ Stop Music When Leaving All Game Pages\r\n  useEffect(() => {\r\n    const gamePages = [\"/dashboard\", \"/game\", \"/leaderboard\"];\r\n    if (!gamePages.includes(location.pathname)) {\r\n      audioRef.current.pause();\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  return (\r\n    <MusicContext.Provider value={{ musicOn, setMusicOn }}>\r\n      {children}\r\n    </MusicContext.Provider>\r\n  );\r\n};\r\n\r\nexport default MusicProvider;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzE,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,eAAe,MAAM,gCAAgC;;AAE5D;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAO,MAAMC,YAAY,gBAAGR,aAAa,CAAC,CAAC;AAE3C,MAAMS,aAAa,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACtC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAACa,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC;EAC9E,MAAMC,QAAQ,GAAGb,MAAM,CAAC,IAAIc,KAAK,CAACZ,eAAe,CAAC,CAAC;EACnD,MAAMa,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd,IAAIU,OAAO,EAAE;MACXI,QAAQ,CAACG,OAAO,CAACC,IAAI,GAAG,IAAI;MAC5BJ,QAAQ,CAACG,OAAO,CAACE,MAAM,GAAG,GAAG;MAC7BL,QAAQ,CAACG,OAAO,CAACG,IAAI,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEF,GAAG,CAAC,CAAC;IACjF,CAAC,MAAM;MACLR,QAAQ,CAACG,OAAO,CAACQ,KAAK,CAAC,CAAC;IAC1B;EACF,CAAC,EAAE,CAACf,OAAO,CAAC,CAAC;;EAEb;EACAV,SAAS,CAAC,MAAM;IACd,MAAM0B,SAAS,GAAG,CAAC,YAAY,EAAE,OAAO,EAAE,cAAc,CAAC;IACzD,IAAI,CAACA,SAAS,CAACC,QAAQ,CAACX,QAAQ,CAACY,QAAQ,CAAC,EAAE;MAC1Cd,QAAQ,CAACG,OAAO,CAACQ,KAAK,CAAC,CAAC;IAC1B;EACF,CAAC,EAAE,CAACT,QAAQ,CAACY,QAAQ,CAAC,CAAC;EAEvB,oBACEvB,OAAA,CAACC,YAAY,CAACuB,QAAQ;IAACC,KAAK,EAAE;MAAEpB,OAAO;MAAEC;IAAW,CAAE;IAAAH,QAAA,EACnDA;EAAQ;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAE5B,CAAC;AAACzB,EAAA,CA5BIF,aAAa;EAAA,QAGAL,WAAW;AAAA;AAAAiC,EAAA,GAHxB5B,aAAa;AA8BnB,eAAeA,aAAa;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}